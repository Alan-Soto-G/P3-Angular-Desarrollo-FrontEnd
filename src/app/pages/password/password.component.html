<!-- Header Section -->
<div class="header bg-gradient-warning pb-8 pt-5 pt-md-8">
    <div class="container-fluid">
        <div class="header-body">
            <!-- Card stats -->
            <div class="row">
                <div class="col-xl-3 col-lg-6">
                    <div class="card card-stats mb-4 mb-xl-0">
                        <div class="card-body">
                            <div class="row">
                                <div class="col">
                                    <h5 class="card-title text-uppercase text-muted mb-0">Total Contraseñas</h5>
                                    <span class="h2 font-weight-bold mb-0">{{ displayData.length }}</span>
                                </div>
                                <div class="col-auto">
                                    <div class="icon icon-shape bg-warning text-white rounded-circle shadow">
                                        <i class="fas fa-key"></i>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-xl-3 col-lg-6">
                    <div class="card card-stats mb-4 mb-xl-0">
                        <div class="card-body">
                            <div class="row">
                                <div class="col">
                                    <h5 class="card-title text-uppercase text-muted mb-0">Contraseñas Activas</h5>
                                    <span class="h2 font-weight-bold mb-0">{{ getActivePasswordsCount() }}</span>
                                </div>
                                <div class="col-auto">
                                    <div class="icon icon-shape bg-success text-white rounded-circle shadow">
                                        <i class="fas fa-shield-alt"></i>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-xl-3 col-lg-6">
                    <div class="card card-stats mb-4 mb-xl-0">
                        <div class="card-body">
                            <div class="row">
                                <div class="col">
                                    <h5 class="card-title text-uppercase text-muted mb-0">Expiradas</h5>
                                    <span class="h2 font-weight-bold mb-0">{{ getExpiredPasswordsCount() }}</span>
                                </div>
                                <div class="col-auto">
                                    <div class="icon icon-shape bg-danger text-white rounded-circle shadow">
                                        <i class="fas fa-exclamation-triangle"></i>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-xl-3 col-lg-6">
                    <div class="card card-stats mb-4 mb-xl-0">
                        <div class="card-body">
                            <div class="row">
                                <div class="col">
                                    <h5 class="card-title text-uppercase text-muted mb-0">Pendientes</h5>
                                    <span class="h2 font-weight-bold mb-0">{{ getPendingPasswordsCount() }}</span>
                                </div>
                                <div class="col-auto">
                                    <div class="icon icon-shape bg-info text-white rounded-circle shadow">
                                        <i class="fas fa-clock"></i>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Main Content -->
<div class="container-fluid mt--7">
    <div class="row">
        <div class="col">
            <!-- CRUD Table Component -->
            <app-table-crud [title]="title" [headers]="headers" [data]="displayData" [isLoading]="isLoading"
                addButtonText="Nueva Contraseña" (onAdd)="onAddPassword()" (onRowClick)="onRowClick($event)">
            </app-table-crud>
        </div>
    </div>

    <!-- Additional Information Card -->
    <div class="row mt-4">
        <div class="col-xl-12">
            <div class="card shadow">
                <div class="card-header border-0">
                    <div class="row align-items-center">
                        <div class="col">
                            <h3 class="mb-0">Información sobre Gestión de Contraseñas</h3>
                        </div>
                    </div>
                </div>
                <div class="card-body">
                    <div class="row">
                        <div class="col-md-6">
                            <h4 class="text-sm font-weight-bold text-primary">¿Qué es la gestión de contraseñas?</h4>
                            <p class="text-sm text-muted">
                                La gestión de contraseñas permite administrar y controlar las credenciales de acceso 
                                al sistema, establecer políticas de seguridad y monitorear el uso de contraseñas temporales.
                            </p>
                            <h4 class="text-sm font-weight-bold text-primary">Estados de Contraseñas</h4>
                            <ul class="text-sm text-muted">
                                <li><strong>Activa:</strong> Contraseña válida y dentro del período de vigencia</li>
                                <li><strong>Expirada:</strong> Contraseña que ha superado su fecha de fin</li>
                                <li><strong>Pendiente:</strong> Contraseña programada para activarse en el futuro</li>
                            </ul>
                        </div>
                        <div class="col-md-6">
                            <h4 class="text-sm font-weight-bold text-primary">Características del Sistema</h4>
                            <ul class="text-sm text-muted">
                                <li>Generación automática de contraseñas seguras</li>
                                <li>Control de fechas de inicio y vencimiento</li>
                                <li>Monitoreo de estado en tiempo real</li>
                                <li>Historial de uso y cambios</li>
                                <li>Integración con sistema de usuarios</li>
                            </ul>
                            <h4 class="text-sm font-weight-bold text-primary">Seguridad</h4>
                            <p class="text-sm text-muted">
                                Las contraseñas se muestran ofuscadas por razones de seguridad. 
                                Solo usuarios autorizados pueden ver el contenido completo.
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
